# PRD Agent - CLI æ¶æ„

## é¡¹ç›®æ¦‚è¿°

ä¸€ä¸ªç±»ä¼¼ Claude Code çš„ CLI ä»»åŠ¡ç®¡ç†å·¥å…· - å‘½ä»¤è¡Œäº¤äº’æ¨¡å¼ï¼Œé TUI ç•Œé¢ã€‚

## æŠ€æœ¯æ ˆ

- **è¯­è¨€**: TypeScript + Node.js
- **CLI æ¡†æ¶**: commander (å­å‘½ä»¤ã€å‚æ•°è§£æ)
- **äº¤äº’æç¤º**: inquirer
- **æ ·å¼**: chalk
- **åŠ è½½åŠ¨ç”»**: ora
- **è¡¨æ ¼**: cli-table3
- **é…ç½®**: conf

## ç›®å½•ç»“æ„

```
prd-agent/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ cli.ts                    # å…¥å£ï¼Œè§£æå‘½ä»¤
â”‚   â”œâ”€â”€ index.ts                  # ä¸»ç¨‹åº
â”‚   â”‚
â”‚   â”œâ”€â”€ commands/                 # å­å‘½ä»¤
â”‚   â”‚   â”œâ”€â”€ add.ts                # æ·»åŠ ä»»åŠ¡
â”‚   â”‚   â”œâ”€â”€ list.ts               # åˆ—å‡ºä»»åŠ¡
â”‚   â”‚   â”œâ”€â”€ show.ts               # æ˜¾ç¤ºè¯¦æƒ…
â”‚   â”‚   â”œâ”€â”€ update.ts             # æ›´æ–°ä»»åŠ¡
â”‚   â”‚   â”œâ”€â”€ delete.ts             # åˆ é™¤ä»»åŠ¡
â”‚   â”‚   â”œâ”€â”€ complete.ts           # å®Œæˆä»»åŠ¡
â”‚   â”‚   â”œâ”€â”€ search.ts             # æœç´¢ä»»åŠ¡
â”‚   â”‚   â””â”€â”€ tags.ts               # æ ‡ç­¾ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                     # æ ¸å¿ƒåŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ task-manager.ts       # ä»»åŠ¡ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ storage.ts            # å­˜å‚¨å±‚
â”‚   â”‚   â””â”€â”€ config.ts             # é…ç½®ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ ui/                       # UI è¾“å‡º
â”‚   â”‚   â”œâ”€â”€ printer.ts            # è¾“å‡ºæ ¼å¼åŒ–
â”‚   â”‚   â”œâ”€â”€ table.ts              # è¡¨æ ¼æ¸²æŸ“
â”‚   â”‚   â””â”€â”€ spinner.ts            # åŠ è½½åŠ¨ç”»
â”‚   â”‚
â”‚   â””â”€â”€ types/                    # ç±»å‹å®šä¹‰
â”‚       â”œâ”€â”€ task.ts               # ä»»åŠ¡ç±»å‹
â”‚       â””â”€â”€ config.ts             # é…ç½®ç±»å‹
â”‚
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ tsup.config.ts
```

## å‘½ä»¤è®¾è®¡

```bash
# æ·»åŠ ä»»åŠ¡
prd add "Fix the bug"                    # å¿«é€Ÿæ·»åŠ 
prd add "Fix the bug" -p high -t bug    # å¸¦ä¼˜å…ˆçº§å’Œæ ‡ç­¾

# åˆ—å‡ºä»»åŠ¡
prd list                                 # å…¨éƒ¨
prd list --status todo                   # è¿‡æ»¤
prd list --tag bug                       # æŒ‰æ ‡ç­¾

# æ˜¾ç¤ºè¯¦æƒ…
prd show <id>

# æ›´æ–°ä»»åŠ¡
prd update <id> --title "New title"
prd update <id> --status in-progress
prd update <id> --priority high

# å®Œæˆä»»åŠ¡
prd complete <id>

# åˆ é™¤ä»»åŠ¡
prd delete <id>

# æœç´¢
prd search "bug"

# æ ‡ç­¾
prd tags                                 # åˆ—å‡ºæ‰€æœ‰æ ‡ç­¾
```

## æ¶æ„æ¨¡å¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CLI Entry                         â”‚
â”‚                    (cli.ts)                          â”‚
â”‚  è§£æå‘½ä»¤ -> å­å‘½ä»¤è·¯ç”± -> å‚æ•°éªŒè¯                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Command Handlers                     â”‚
â”‚                  (commands/)                         â”‚
â”‚  add.ts | list.ts | show.ts | update.ts | ...       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Task Manager                       â”‚
â”‚                (core/task-manager.ts)                â”‚
â”‚  ä¸šåŠ¡é€»è¾‘ï¼šåˆ›å»ºã€æ›´æ–°ã€åˆ é™¤ã€æŸ¥è¯¢ã€çŠ¶æ€ç®¡ç†           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Storage                           â”‚
â”‚                 (core/storage.ts)                    â”‚
â”‚  JSON æ–‡ä»¶æŒä¹…åŒ–                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## äº¤äº’æ¨¡å¼

```bash
# è¿›å…¥äº¤äº’æ¨¡å¼
prd interactive

> add "New task"
âœ“ Task created: [1] New task

> list
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ID â”‚ Title         â”‚ Status  â”‚ Priorityâ”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ New task      â”‚ todo    â”‚ medium â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜

> complete 1
âœ“ Task 1 marked as complete

> exit
```

## è¾“å‡ºæ ·å¼

```bash
$ prd list
  â•¶â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â•®
  â•  ğŸ“‹ Tasks (3)                           â•
  â•¶â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â•¯

  [1] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ğŸ“Œ Fix the login bug
  â•  Status: ğŸ”„ in-progress  Priority: ğŸ”´ high
  â•  Tags: bug, urgent
  â•  Created: 2 hours ago

  [2] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ğŸ“Œ Update documentation
  â•  Status: â¸ todo  Priority: ğŸŸ¡ medium
  â•  Created: 1 day ago
```
